<!DOCTYPE html>
<html lang="en">

<head>
    <!-- <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->

    <script src="./js/jquery-3.4.1.slim.min.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
    <!-- <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js" ></script> -->


    <!-- kathy -->
    <!-- CSS files -->
    <link rel="stylesheet" href="./CSS/screens/screen-style.css" />
    <link rel="stylesheet" href="./CSS/screens/login.css" />
    <link rel="stylesheet" href="./CSS/screens/register.css" />
    <link rel="stylesheet" href="./CSS/screens/settings.css" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./CSS/game/gameStyle.css" />


    <title>Document</title>
</head>
<header>

</header>

<body>

    <!---------------------------------------- menu ---------------------------------------->
    <div class="w3-top">
        <div class="w3-bar w3-xlarge w3-black w3-opacity w3-hover-opacity-off" id="menuNavBar">
            <a class="w3-bar-item w3-button" onclick="switchPage('welcome-page', backgroundWelcomePagePath)">Welcome</a>
            <a id="about" class="w3-bar-item w3-button" onclick="aboutPopup_show()">About</a>
            <a id="settings" class="w3-bar-item w3-button" onclick="switchPage('settings-page', null)" style="display: none;">settings</a>
            <a id="login" class="w3-bar-item w3-button"
                onclick="onlineUserCheck('login-page')">Login</a>
            <a id="register" class="w3-bar-item w3-button"
                onclick="onlineUserCheck('register-page')">Register</a>
                <div id="nav_logout" class="w3-bar-item w3-button" onclick="logout()" style="display: none;">LogOut</div>
            <a id="play" class="w3-bar-item w3-button" onclick="switchPage('game-page', null)" style="display: none; color: #40f521;">New Game</a>

            <!-- <a id="hi" class="w3-bar-item w3" style="float: right; padding-right: 30px;"><span>Hi </span><span id="loged_in_uname">guest</span></a> -->
            <div class="w3-bar-item w3" style="float: right; padding-right: 30px; display: none;" id="onlineUserText">Hi: </div>
        </div>
    </div>


    <!---------------------------------------- welcome div ---------------------------------------->
    <div id="welcome-page" class="w3-container page">
        <h1 class="game-title w3-text-white">Dreams Invader</h1>
        <h3 class="small-game-title w3-text-white">Rick Vs Scary Terry</h3>
        <p class="game-description w3-text-white">Help Rick save Morty from the dreams invader Scary Terry</p>
        <p class="game-credits w3-text-white">~ Insperation from S1 EP2</p>

        <button class="w3-button w3-white w3-margin-top w3-round-large w3-border w3-border-black"
            onclick="switchPage('login-page', backgroundOtherPagesPath)"
            style="height: 5vh; width: 8vw; font-size: 2vh;">Login</button>
        <button class="w3-button w3-black w3-margin-top w3-round-large"
            onclick="switchPage('register-page', backgroundOtherPagesPath)"
            style="height: 5vh; width: 8vw; font-size: 2vh;">Register</button>
    </div>


    <!---------------------------------------- about popup div ---------------------------------------->
    <div id="about-popup" class="w3-modal" style="display:none">
        <div class="w3-modal-content w3-animate-top w3-card-4">
          <header class="w3-container w3-light-grey">
            <span onclick="aboutPopup_close()" class="w3-button w3-display-topright">&times;</span>
            <h3 style="font-family: 'Permanent Marker', cursive; font-size: 3vh;">About</h3>
          </header>
          <div class="w3-container">
            <div class="about-content">
              <p style="font-family: 'Mochiy Pop One';">The team - Kathy Agafonov & Netanel Krotovich.</p>
              <p  style="font-family: 'Mochiy Pop One';">We chose to develop a game inspired by Chicken Invaders, where our main role is Rick, trying to kill "Scary Terry".</p>
              <p  style="font-family: 'Mochiy Pop One';">To start a game you have to have a user first and to be logged in. This game was developed using JavaScript, HTML5 and CSS. We used the Validate jQuery Plugin and slim.min.js package, a Date Picker Template, designed forms and buttons, and the W3.CSS framework and Googleapis fonts.</p>
              <p  style="font-family: 'Mochiy Pop One';">The difficulties in this work were:</p>
              <ol>
                <li style="font-family: 'Mochiy Pop One';">Make the characters move and connect them to listeners.</li>
                <li style="font-family: 'Mochiy Pop One';">Styling the different pages of the game.</li>
                <li style="font-family: 'Mochiy Pop One';">Developing the validation using jQuery.</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
      
      

    <!---------------------------------------- login div ---------------------------------------->
    <div id="login-page" class="w3-container w3-half w3-padding-64 page hide w3-display-middle">

        <div id="loginele" class="login-box">
            <h2>Login</h2>
            <form id="loginForm">
                <div class="user-box">
                    <input type="text" name="Username" required="">
                    <label>Username</label>
                </div>

                <div class="user-box">
                    <input type="password" name="Password" required="">
                    <label>Password</label>
                </div>
                <a href="#">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <label id="subLogin">Login</label>
                </a>
            </form>
        </div>
    </div>

    <!---------------------------------------- register div ---------------------------------------->
    <div id="register-page" class="w3-container w3-half w3-padding-64 page hide w3-display-middle">
        <div id="register" class="register-box">
            <h2>Register</h2>
            <form id="registerForm" method="post">

                <div class="user-box">
                    <input type="text" name="Username" id="Username" required="">
                    <label>Username</label>
                </div>

                <div class="user-box">
                    <input type="password" id="pass_reg" name="Password" required="">
                    <label>Password</label>
                </div>

                <div class="user-box">
                    <input type="password" id="pass_reg" name="Repeat_Password" required="">
                    <label>Repeat password</label>
                </div>

                <div class="user-box">
                    <input type="text" name="First_name" required="">
                    <label>First name</label>
                </div>

                <div class="user-box">
                    <input type="text" name="Last_name" required="">
                    <label>Last name</label>
                </div>

                <div class="user-box">
                    <input type="email" name="Email" required="">
                    <label>Email</label>
                </div>

                <label class="Birthday">Birthday</label>
                <div class="user-box">
                    <input type="date" name="DateOfBirth" required="">
                </div>
                <a id="register_btn_area">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <input id="subRegister" type="submit" value="Done"></input>
                </a>

            </form>

        </div>
    </div>



    <!---------------------------------------- settings div ---------------------------------------->
    <div id="settings-page" class="w3-container w3-half w3-padding-64 page hide w3-display-middle">
        <div id="settingScreen" class="setting-box">
            <h2>Setting</h2>
            <form id="settingForm" method="post">
                <div class="user-setting-box">
                    <input value="Space" type="button" id="shootKey" name="shootKey" required>
                    <label>Shooting key: </label>
                </div>

                <div class="user-setting-box">
                    <input value='120' type="text" id="gameTime" name="gameTime" required>
                    <label>Game Time (sec)</label>
                </div>

                <div>
                    </br>
                    <div id="play-btn-wrapper" style="position: absolute;">
                        <a id="play_btn_area">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <input id="submitSetting" type="submit" value="Play"></input>
                        </a>
                    </div>
                </div>

            </form>
        </div>
    </div>

    <!---------------------------------------- the game div ---------------------------------------->
    <div id="game-page" class="w3-container page hide">
        <div id="canvas-container">
            <canvas id="game" width="800" height="600"></canvas>
            <button id="mute-button"><img id="mute-icon" src="/src/images/game/volume.png"
                    style="width: 30px; height: 30px;"></button>
            <img id="life-img" src="/src/images/game/3life.png">
            <div style="color: aliceblue;">
                <a class="scoreAndTimeLeft-element">
                    <span>Score: </span><span id="score_element" style="margin-right: 10vh;"></span>
                    <span>Time Left: </span><span id="time_element"></span>
                </a>
            </div>


        </div>
        <div>
            <table id="score-table" style="display: none;">
                <thead>
                    <tr>
                        <th colspan="2">
                            <h1 style="font-family: 'Permanent Marker', cursive;">SCORE TABLE</h1>
                        </th>
                    </tr>
                    <tr>
                        <th colspan="2">
                            <a style="font-family: 'Permanent Marker', cursive; font-size: 2vh; ">
                                <span id="loged_in_uname_score_table"></span><span> ALL TIME SCORE</span>
                            </a>
                        </th>
                    </tr>
                    <tr>
                        <th>Rank</th>
                        <th>Score</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Rows will be added dynamically using jQuery -->
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="2">
                            <button class="close-btn" onclick="$('#score-table').hide();">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <button id="new-game-btn" class="new-game-btn">New Game</button>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>

        <button id="pause-button"><img id="ause-icon" src="/src/images/game/play.png"
                style="width: 35px; height: 35px;"></button>
    </div>


    <!---------------------------------------- footer div ---------------------------------------->
    <div class="w3-bottom">
        <div class="w3-bar w3-black w3-opacity" id="footer">
            <a class=" w3-bar-item" style="font-size: 2.5vh">
                Kathy Agafonov & Netanel Krotovich 2023 &copy; Contact us: kathyagafonov@gmail.com ,
                krotonet@post.bgu.ac.il
            </a>
        </div>
    </div>


    <script>
        let startGame = false;
        // set startGame to true when the game should start
        if (startGame) {
            document.getElementById("game").style.display = "block";
        }
    </script>

    <script src="./js/style.js"></script>
    <script src="./js/screens/register.js"></script>
    <script src="./js/jquery.validate.js"></script>
    <script src="./js/registerValidation.js"></script>

    <script src="./js/screens/login.js"></script>
    <script type="module" src="./js/screens/settings.js"></script>

    <script type="module" src="./js/game/theGame.js"></script>


    <script src="./js/db.js"></script>
</body>

</html>